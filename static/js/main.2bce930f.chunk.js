(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{100:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(31),c=t.n(o),u=(t(70),t(14)),i=t(9),l=t(2),s=t(3),b=t(64);function f(){var n=Object(l.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  width: 1024px;\n  margin: 0 auto; /*\uc911\uc559\uc815\ub82c*/\n\n  /*\ube0c\ub77c\uc6b0\uc800 \ud06c\uae30\uc5d0 \ub530\ub77c \uac00\ub85c \ud06c\uae30 \ubcc0\uacbd*/\n  @media (max-width: 1024px) {\n    width: 768px;\n  }\n  @media (max-width: 768px) {\n    width: 100 @;\n  }\n"]);return f=function(){return n},n}var d=s.b.div(f()),m=function(n){var e=n.children,t=Object(b.a)(n,["children"]);return a.a.createElement(d,t,e)},p=t(12),g={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]};function v(){var n=Object(l.a)(["\n  ","\n"]);return v=function(){return n},n}function O(){var n=Object(l.a)(["\n  ","\n"]);return O=function(){return n},n}function j(){var n=Object(l.a)(["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n    "]);return j=function(){return n},n}function h(){var n=Object(l.a)(["\n      padding-top: 0.75rem;\n      padding-bottom: 0.75rem;\n      width: 100%;\n      font-size: 1.125rem;\n    "]);return h=function(){return n},n}function E(){var n=Object(l.a)(["\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.25rem 1rem;\n  color: white;\n  outline: none;\n  cursor: pointer;\n\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n  ","\n\n  ","\n    &:disabled {\n    background: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"]);return E=function(){return n},n}var y=Object(s.a)(E(),g.gray[8],g.gray[6],(function(n){return n.fullWidth&&Object(s.a)(h())}),(function(n){return n.cyan&&Object(s.a)(j(),g.cyan[5],g.cyan[4])}),g.gray[3],g.gray[5]),w=s.b.button(O(),y),x=Object(s.b)(p.b)(v(),y),k=function(n){return n.to?a.a.createElement(x,Object.assign({},n,{cyan:n.cyan?1:0})):a.a.createElement(w,n)};function I(){var n=Object(l.a)(["\n  font-weight: 800;\n  margin-right: 1rem;\n"]);return I=function(){return n},n}function S(){var n=Object(l.a)(["\n  height: 4rem;\n"]);return S=function(){return n},n}function T(){var n=Object(l.a)(["\n  height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between; /*\uc790\uc2dd \uc5d8\ub9ac\uba3c\ud2b8 \uc0ac\uc774\uc758 \uc5ec\ubc31\uc744 \ucd5c\ub300\ub85c \uc124\uc815 */\n  .logo {\n    font-size: 1.125rem;\n    font-weight: 800;\n    letter-spacing: 2px;\n  }\n  .right {\n    display: flex;\n    align-items: center;\n  }\n"]);return T=function(){return n},n}function C(){var n=Object(l.a)(["\n  position: fixed;\n  width: 100%;\n  background: white;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]);return C=function(){return n},n}s.b.div(C()),Object(s.b)(m)(T()),s.b.div(S()),s.b.div(I());var _,P,L=t(6),A=t(10),D=t(11),N=t.n(D),R=t(15),G=t(102),z=t(101),U=t(13),F=t(56),M=t.n(F).a.create(),B=function(){return M.post("/api/auth/logout")},H=Object(G.a)("loading/START_LAODING",(function(n){return n})),W=Object(G.a)("loading/FINISH_LOADING",(function(n){return n})),J=Object(z.a)((_={},Object(L.a)(_,"loading/START_LAODING",(function(n,e){return Object(A.a)({},n,Object(L.a)({},e.payload,!0))})),Object(L.a)(_,"loading/FINISH_LOADING",(function(n,e){return Object(A.a)({},n,Object(L.a)({},e.payload,!1))})),_),{}),Z=function(n){return[n,"".concat(n,"_SUCCESS"),"".concat(n,"_FAILURE")]};function q(n,e){var t="".concat(n,"_SUCCESS"),r="".concat(n,"_FAILURE");return N.a.mark((function a(o){var c;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(U.c)(H(n));case 2:return a.prev=2,a.next=5,Object(U.b)(e,o.payload);case 5:return c=a.sent,a.next=8,Object(U.c)({type:t,payload:c.data,meta:c});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(U.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(U.c)(W(n));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var Q=N.a.mark(on),$=N.a.mark(cn),K=Z("user/CHECK"),V=Object(R.a)(K,3),X=V[0],Y=V[1],nn=V[2],en=Object(G.a)("user/TEMP_SET_USER",(function(n){return n})),tn=Object(G.a)(X),rn=(Object(G.a)("user/LOGOUT"),q(X,(function(){return M.get("/api/auth/check")})));function an(){try{localStorage.removeItem("user")}catch(n){console.log("localStorage is not working")}}function on(){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(U.b)(B);case 3:localStorage.removeItem("user"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),Q,null,[[0,6]])}function cn(){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(U.d)(X,rn);case 2:return n.next=4,Object(U.d)(nn,an);case 4:return n.next=6,Object(U.d)("user/LOGOUT",on);case 6:case"end":return n.stop()}}),$)}var un=Object(z.a)((P={},Object(L.a)(P,"user/TEMP_SET_USER",(function(n,e){var t=e.payload;return Object(A.a)({},n,{user:t})})),Object(L.a)(P,Y,(function(n,e){var t=e.payload;return Object(A.a)({},n,{user:t,checkError:null})})),Object(L.a)(P,nn,(function(n,e){var t=e.payload;return Object(A.a)({},n,{user:null,checkError:t})})),Object(L.a)(P,"user/LOGOUT",(function(n){return Object(A.a)({},n,{user:null})})),P),{user:null,checkError:null}),ln=t(23),sn=t.n(ln);function bn(){var n=Object(l.a)(["\n      margin-top: 1rem;\n    "]);return bn=function(){return n},n}function fn(){var n=Object(l.a)(["\n  ","\n  /*margin-top: 1rem;*/\n  color: ",";\n\n  /*span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30 */\n  span+span: before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-rigth: 0.25rem;\n    content: '\\B7'; /*\uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n  }\n"],["\n  ","\n  /*margin-top: 1rem;*/\n  color: ",";\n\n  /*span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30 */\n  span+span: before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-rigth: 0.25rem;\n    content: '\\\\B7'; /*\uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n  }\n"]);return fn=function(){return n},n}var dn=s.b.div(fn(),(function(n){return n.hasMarginTop&&Object(s.a)(bn())}),g.gray[6],g.gray[4]),mn=function(n){var e=n.username,t=n.publishedDate,r=n.hasMarginTop;return a.a.createElement(dn,{hasMarginTop:r},a.a.createElement("span",null,a.a.createElement("b",null,a.a.createElement(p.b,{to:"/@".concat(e)},e))),a.a.createElement("span",null,new Date(t).toLocaleDateString()))};function pn(){var n=Object(l.a)(["\n  margin-top: 0.5rem;\n  .tag {\n    display: inline-block;\n    color: ",";\n    text-decoration: none;\n    margin-right: 0.5rem;\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return pn=function(){return n},n}var gn=s.b.div(pn(),g.cyan[7],g.cyan[6]),vn=function(n){var e=n.tags;return a.a.createElement(gn,null,e.map((function(n){return a.a.createElement(p.b,{className:"tag",to:"/?tag=".concat(n),key:n},"#",n)})))};function On(){var n=Object(l.a)(["\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n  /*\ub9e8\uc704 \ud3ec\uc2a4\ud2b8\ub294 padding-top\uc5c6\uc74c */\n  *:first-child {\n    padding-top: 0;\n  }\n  & + & {\n    border-top: 1px solid ",";\n  }\n\n  h2 {\n    font-size: 2rem;\n    margin-bottom: 0;\n    margin-top: 0;\n    &:hover {\n      color: ",";\n    }\n  }\n  p {\n    margin-top: 2rem;\n  }\n"]);return On=function(){return n},n}function jn(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 3rem;\n"]);return jn=function(){return n},n}function hn(){var n=Object(l.a)(["\n  margin-top: 3rem;\n"]);return hn=function(){return n},n}var En,yn=Object(s.b)(m)(hn()),wn=s.b.div(jn()),xn=s.b.div(On(),g.gray[2],g.gray[6]),kn=function(n){var e=n.post,t=e.publishedDate,r=e.user,o=e.tags,c=e.title,u=e.body,i=e._id;return a.a.createElement(xn,null,a.a.createElement("h2",null,a.a.createElement(p.b,{to:"/@".concat(r.username,"/").concat(i)},c)),a.a.createElement(mn,{username:r.username,publishedDate:new Date(t)}),a.a.createElement(vn,{tags:o}),a.a.createElement("p",null,u))},In=function(n){var e=n.posts,t=n.loading,r=n.error,o=n.showWriteButton;return r?a.a.createElement(yn,null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."):a.a.createElement(yn,null,a.a.createElement(wn,null,o&&a.a.createElement(k,{cyan:!0,to:"/write"},"\uc0c8 \uae00 \uc791\uc131\ud558\uae30")),!t&&e&&a.a.createElement("div",null,e.map((function(n){return a.a.createElement(kn,{post:n,key:n._id})}))))},Sn=N.a.mark(Nn),Tn=Z("post/LIST_POSTs"),Cn=Object(R.a)(Tn,3),_n=Cn[0],Pn=Cn[1],Ln=Cn[2],An=Object(G.a)(_n,(function(n){return{tag:n.tag,username:n.username,page:n.page}})),Dn=q(_n,(function(n){var e=n.page,t=n.username,r=n.tag,a=sn.a.stringify({page:e,username:t,tag:r});return M.get("/api/posts?".concat(a))}));function Nn(){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(U.d)(_n,Dn);case 2:case"end":return n.stop()}}),Sn)}var Rn=Object(z.a)((En={},Object(L.a)(En,Pn,(function(n,e){var t=e.payload,r=e.meta;return Object(A.a)({},n,{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(L.a)(En,Ln,(function(n,e){var t=e.paylaod;return Object(A.a)({},n,{error:t})})),En),{posts:null,error:null,lastPage:1});Object(u.e)((function(n){var e=n.location,t=n.match,o=Object(i.b)(),c=Object(i.c)((function(n){var e=n.posts,t=n.loading,r=n.user;return{posts:e.posts,error:e.error,loading:t["posts/LIST_POSTS"],user:r.user}})),u=c.posts,l=c.error,s=c.loading,b=c.user;return Object(r.useEffect)((function(){var n=t.params.username,r=sn.a.parse(e.search,{ignoreQueryPrefix:!0}),a=r.tag,c=r.page;o(An({tag:a,username:n,page:c}))}),[o,e.search]),a.a.createElement(In,{loading:s,error:l,posts:u,showWriteButton:b})}));function Gn(){var n=Object(l.a)([""]);return Gn=function(){return n},n}function zn(){var n=Object(l.a)(["\n  width: 320px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 3rem;\n"]);return zn=function(){return n},n}var Un=s.b.div(zn()),Fn=s.b.div(Gn()),Mn=function(n){var e=n.username,t=n.tag,r=n.page,a=sn.a.stringify({tag:t,page:r});return e?"/@".concat(e,"?").concat(a):"/?".concat(a)},Bn=function(n){var e=n.page,t=n.lastPage,r=n.username,o=n.tag;return a.a.createElement(Un,null,a.a.createElement(k,{disabled:1===e,to:1===e?void 0:Mn({username:r,tag:o,page:e-1})},"\uc774\uc804"),a.a.createElement(Fn,null,e),a.a.createElement(k,{disabled:e===t,to:e===t?void 0:Mn({username:r,tag:o,page:e+1})},"\ub2e4\uc74c"))};Object(u.e)((function(n){var e=n.location,t=n.match,r=Object(i.c)((function(n){var e=n.posts,t=n.loading;return{lastPage:e.lastPage,posts:e.posts,loading:t["posts/LIST_POSTS"]}})),o=r.lastPage,c=r.posts,u=r.loading;if(!c||u)return null;var l=t.params.username,s=sn.a.parse(e.search,{ignoreQueryPrefix:!0}),b=s.tag,f=s.page,d=void 0===f?1:f;return a.a.createElement(Bn,{tag:b,username:l,page:parseInt(d,10),lastPage:o})}));function Hn(){var n=Object(l.a)(["\n  .logo-area {\n    display: block;\n    padding-bottom: 2rem;\n    text-align: center;\n    font-weight: bold;\n    letter-spacing: 2px;\n  }\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n  padding: 2rem;\n  width: 360px;\n  background: white;\n  border-radius: 2px;\n"]);return Hn=function(){return n},n}function Wn(){var n=Object(l.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background: ",";\n  /* flex\ub85c \ub0b4\ubd80 \ub0b4\uc6a9 \uc911\uc559 \uc815\ub82c */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Wn=function(){return n},n}s.b.div(Wn(),g.gray[2]),s.b.div(Hn());var Jn,Zn=t(57),qn=N.a.mark(se),Qn=Z("auth/REGISTER"),$n=Object(R.a)(Qn,3),Kn=$n[0],Vn=$n[1],Xn=$n[2],Yn=Z("auth/LOGIN"),ne=Object(R.a)(Yn,3),ee=ne[0],te=ne[1],re=ne[2],ae=Object(G.a)("auth/CHANGE_FIELD",(function(n){return{form:n.form,key:n.key,value:n.value}})),oe=Object(G.a)("auth/INITIALIZE_FORM",(function(n){return n})),ce=Object(G.a)(Kn,(function(n){return{username:n.username,password:n.password}})),ue=Object(G.a)(ee,(function(n){return{username:n.username,password:n.password}})),ie=q(Kn,(function(n){var e=n.username,t=n.password;return M.post("/api/auth/register",{username:e,password:t})})),le=q(ee,(function(n){var e=n.username,t=n.password;return M.post("/api/auth/login",{username:e,password:t})}));function se(){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(U.d)(Kn,ie);case 2:return n.next=4,Object(U.d)(ee,le);case 4:case"end":return n.stop()}}),qn)}var be={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},auth:null,authError:null},fe=Object(z.a)((Jn={},Object(L.a)(Jn,"auth/CHANGE_FIELD",(function(n,e){var t=e.payload,r=t.form,a=t.key,o=t.value;return Object(Zn.a)(n,(function(n){n[r][a]=o}))})),Object(L.a)(Jn,"auth/INITIALIZE_FORM",(function(n,e){var t,r=e.payload;return Object(A.a)({},n,(t={},Object(L.a)(t,r,be[r]),Object(L.a)(t,"authError",null),t))})),Object(L.a)(Jn,Vn,(function(n,e){var t=e.payload;return Object(A.a)({},n,{authError:null,auth:t})})),Object(L.a)(Jn,Xn,(function(n,e){var t=e.payload;return Object(A.a)({},n,{authError:t})})),Object(L.a)(Jn,te,(function(n,e){var t=e.payload;return Object(A.a)({},n,{authError:null,auth:t})})),Object(L.a)(Jn,re,(function(n,e){var t=e.payload;return Object(A.a)({},n,{authError:t})})),Jn),be);function de(){var n=Object(l.a)(["\n  color: red;\n  text-align: center;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"]);return de=function(){return n},n}function me(){var n=Object(l.a)(["\n  margin-top: 1rem;\n"]);return me=function(){return n},n}function pe(){var n=Object(l.a)(["\n  margin-top: 2rem;\n  text-align: right;\n  a {\n    color: ",";\n    text-decoration: underline;\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return pe=function(){return n},n}function ge(){var n=Object(l.a)(["\n  font-size: 1rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding-bottom: 0.5rem;\n  outline: none;\n  width: 100%;\n  &:focus {\n    color: $oc-teal-7;\n    border-bottom: 1px solid ",";\n  }\n  & + & {\n    margin-top: 1rem;\n  }\n"]);return ge=function(){return n},n}function ve(){var n=Object(l.a)(["\n  h3 {\n    margin: 0;\n    color: ",";\n    margin-bottom: 1rem;\n  }\n"]);return ve=function(){return n},n}var Oe=s.b.div(ve(),g.gray[8]),je=s.b.input(ge(),g.gray[5],g.gray[7]),he=s.b.div(pe(),g.gray[6],g.gray[9]),Ee=Object(s.b)(k)(me()),ye={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},we=s.b.div(de()),xe=function(n){var e=n.type,t=n.form,r=n.onChange,o=n.onSubmit,c=n.error,u=ye[e];return a.a.createElement(Oe,null,a.a.createElement("h3",null,u),a.a.createElement("form",{onSubmit:o},a.a.createElement(je,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:r,value:t.username}),a.a.createElement(je,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:r,value:t.password}),"register"===e&&a.a.createElement(je,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:r,value:t.passwordConfirm}),c&&a.a.createElement(we,null,c),a.a.createElement(Ee,{cyan:!0,fullWidth:!0},u)),a.a.createElement(he,null,"login"===e?a.a.createElement(p.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785"):a.a.createElement(p.b,{to:"/login"},"\ub85c\uadf8\uc778")))};Object(u.e)((function(n){var e=n.history,t=Object(r.useState)(null),o=Object(R.a)(t,2),c=o[0],u=o[1],l=Object(i.b)(),s=Object(i.c)((function(n){var e=n.auth,t=n.user;return{form:e.login,auth:e.auth,authError:e.authError,user:t.user}})),b=s.form,f=s.auth,d=s.authError,m=s.user;return Object(r.useEffect)((function(){l(oe("login"))}),[l]),Object(r.useEffect)((function(){if(d)return console.log("\uc624\ub958\ubc1c\uc0dd"),console.log(d),void u("\ub85c\uadf8\uc778 \uc2e4\ud328");f&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5"),l(tn()))}),[f,d,l]),Object(r.useEffect)((function(){if(m){e.push("/");try{localStorage.setItem("user",JSON.stringify(m))}catch(n){console.log("localStorage is not working")}}}),[e,m]),a.a.createElement(xe,{type:"login",form:b,onChange:function(n){var e=n.target,t=e.value,r=e.name;l(ae({form:"login",key:r,value:t}))},onSubmit:function(n){n.preventDefault();var e=b.username,t=b.password;l(ue({username:e,password:t}))},error:c})})),Object(u.e)((function(n){var e=n.history,t=Object(r.useState)(null),o=Object(R.a)(t,2),c=o[0],u=o[1],l=Object(i.b)(),s=Object(i.c)((function(n){var e=n.auth,t=n.user;return{form:e.register,auth:e.auth,authError:e.authError,user:t.user}})),b=s.form,f=s.auth,d=s.authError,m=s.user;return Object(r.useEffect)((function(){l(oe("register"))}),[l]),Object(r.useEffect)((function(){if(d)return 409===d.response.status?void u("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uba85\uc785\ub2c8\ub2e4."):void u("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");f&&(console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),console.log(f),l(tn()))}),[f,d,l]),Object(r.useEffect)((function(){if(m){e.push("/");try{localStorage.setItem("user",JSON.stringify(m))}catch(n){console.log("localStorage is not working")}}}),[e,m]),a.a.createElement(xe,{type:"register",form:b,onChange:function(n){var e=n.target,t=e.value,r=e.name;l(ae({form:"register",key:r,value:t}))},onSubmit:function(n){n.preventDefault();var e=b.username,t=b.password,r=b.passwordConfirm;if(![e,t,r].includes(""))return t!==r?(u("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),l(ae({form:"register",key:"password",value:""})),void l(ae({form:"register",key:"passwordConfirm",value:""}))):void l(ce({username:e,password:t}));u("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694")},error:c})})),t(58),t(99);function ke(){var n=Object(l.a)(["\n  /*\ucd5c\uc18c \ud06c\uae30 \uc9c0\uc815 \ubc0f padding \uc81c\uac70 */\n  .ql-editor {\n    padding: 0;\n    min-height: 320px;\n    font-size: 1.125rem;\n    line-height: 1.5;\n  }\n  .ql-editor.ql-black::before {\n    left: 0px;\n  }\n"]);return ke=function(){return n},n}function Ie(){var n=Object(l.a)(["\n  font-size: 3rem;\n  outline: none;\n  padding-bottom: 0.5rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  margin-bottom: 2rem;\n  width: 100%;\n"]);return Ie=function(){return n},n}function Se(){var n=Object(l.a)(["\n  /*\ud398\uc774\uc9c0 \uc704\uc544\ub798 \uc5ec\ubc31 \uc9c0\uc815 */\n  padding-top: 5rem;\n  padding-bottom: 5rem;\n"]);return Se=function(){return n},n}Object(s.b)(m)(Se()),s.b.input(Ie(),g.gray[4]),s.b.div(ke());var Te,Ce=N.a.mark(Je),_e=Z("write/WRITE_POST"),Pe=Object(R.a)(_e,3),Le=Pe[0],Ae=Pe[1],De=Pe[2],Ne=Z("write/UPDATE_POST"),Re=Object(R.a)(Ne,3),Ge=Re[0],ze=Re[1],Ue=Re[2],Fe=(Object(G.a)("write/INITIALIZE"),Object(G.a)("write/CHANGE_FIELD",(function(n){return{key:n.key,value:n.value}})),Object(G.a)("write/SET_ORIGINAL_POST",(function(n){return n}))),Me=Object(G.a)(Le,(function(n){return{title:n.title,body:n.body,tags:n.tags}})),Be=Object(G.a)(Ge,(function(n){return{id:n.id,title:n.title,body:n.body,tags:n.tags}})),He=q(Le,(function(n){var e=n.title,t=n.body,r=n.tags;return M.post("/api/posts",{title:e,body:t,tags:r})})),We=q(Ge,(function(n){var e=n.id,t=n.title,r=n.body,a=n.tags;return M.patch("/api/posts/".concat(e),{title:t,body:r,tags:a})}));function Je(){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(U.d)(Le,He);case 2:return n.next=4,Object(U.d)(Ge,We);case 4:case"end":return n.stop()}}),Ce)}var Ze={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null},qe=Object(z.a)((Te={},Object(L.a)(Te,"write/INITIALIZE",(function(n){return Ze})),Object(L.a)(Te,"write/CHANGE_FIELD",(function(n,e){var t=e.payload,r=t.key,a=t.value;return Object(A.a)({},n,Object(L.a)({},r,a))})),Object(L.a)(Te,Le,(function(n){return Object(A.a)({},n,{post:null,postError:null})})),Object(L.a)(Te,Ae,(function(n,e){var t=e.payload;return Object(A.a)({},n,{post:t})})),Object(L.a)(Te,De,(function(n,e){var t=e.payload;return Object(A.a)({},n,{postError:t})})),Object(L.a)(Te,"write/SET_ORIGINAL_POST",(function(n,e){var t=e.payload;return Object(A.a)({},n,{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id})})),Object(L.a)(Te,ze,(function(n,e){var t=e.payload;return Object(A.a)({},n,{post:t})})),Object(L.a)(Te,Ue,(function(n,e){var t=e.payload;return Object(A.a)({},n,{postError:t})})),Te),Ze);t(62);function Qe(){var n=Object(l.a)(["\n  display: flex;\n  margin-top: 0.5rem;\n"]);return Qe=function(){return n},n}function $e(){var n=Object(l.a)(["\n  margin-rigth: 0.5rem;\n  color: ",";\n  cursor: pointer;\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return $e=function(){return n},n}function Ke(){var n=Object(l.a)(["\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  width: 256px;\n  border: 1px solid ","; /*\uc2a4\ud0c0\uc77c \ucd08\uae30\ud654 */\n  input,\n  button {\n    outline: none;\n    border: none;\n    font-size: 1rem;\n  }\n\n  input {\n    padding: 0.5rem;\n    flex: 1;\n    min-width: 0;\n  }\n  button {\n    cursor: pointer;\n    padding-right: 1rem;\n    padding-left: 1rem;\n    border: none;\n    background: ",";\n    color: white;\n    font-weight: bold;\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return Ke=function(){return n},n}function Ve(){var n=Object(l.a)(["\n  width: 100%;\n  border-top: 1px solid ",";\n  padding-top: 2rem;\n\n  h4 {\n    color: ",";\n    margin-top: 0;\n    margin-bottom: 0.5rem;\n  }\n"]);return Ve=function(){return n},n}s.b.div(Ve(),g.gray[2],g.gray[8]),s.b.form(Ke(),g.gray[9],g.gray[8],g.gray[6]);var Xe=s.b.div($e(),g.gray[6]),Ye=s.b.div(Qe()),nt=a.a.memo((function(n){var e=n.tag,t=n.onRemove;return a.a.createElement(Xe,{onClick:function(){return t(e)}},"#",e)}));a.a.memo((function(n){var e=n.tags,t=n.onRemove;return a.a.createElement(Ye,null,e.map((function(n){return a.a.createElement(nt,{key:n,tag:n,onRemove:t})})))}));function et(){var n=Object(l.a)(["\n  height: 2.125rem;\n  & + & {\n    margin-left: 0.5rem;\n  }\n"]);return et=function(){return n},n}function tt(){var n=Object(l.a)(["\n  margin-top: 1rem;\n  margin-bottom: 3rem;\n  button + button {\n    margin-left: 0.5rem;\n  }\n"]);return tt=function(){return n},n}var rt,at=s.b.div(tt()),ot=Object(s.b)(k)(et()),ct=function(n){n.onCancel;var e=n.onPublish,t=n.isEdit;return a.a.createElement(at,null,a.a.createElement(ot,{cyan:!0,onClick:e},"\ud3ec\uc2a4\ud2b8 ",t?"\uc218\uc815":"\ub4f1\ub85d"),a.a.createElement(ot,{onClick:oncancel},"\ucde8\uc18c"))},ut=(Object(u.e)((function(n){var e=n.history,t=Object(i.b)(),o=Object(i.c)((function(n){var e=n.write;return{title:e.title,body:e.body,tags:e.tags,post:e.post,postError:e.postError,originalPostId:e.originalPostId}})),c=o.title,u=o.body,l=o.tags,s=o.post,b=o.postError,f=o.originalPostId;return Object(r.useEffect)((function(){if(s){var n=s._id,t=s.user;e.push("/@".concat(t.username,"/").concat(n))}b&&console.log(b)}),[e,s,b]),a.a.createElement(ct,{onPublish:function(){t(f?Be({title:c,body:u,tags:l,id:f}):Me({title:c,body:u,tags:l}))},onCancel:function(){e.goBack()},isEdit:!!f})})),t(24)),it=t(60),lt=N.a.mark(Ot),st=Z("post/READ_POST"),bt=Object(R.a)(st,3),ft=bt[0],dt=bt[1],mt=bt[2],pt=Object(G.a)(ft,(function(n){return n})),gt=Object(G.a)("post/UNLOAD_POST"),vt=q(ft,(function(n){return M.get("/api/posts/".concat(n))}));function Ot(){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(U.d)(ft,vt);case 2:case"end":return n.stop()}}),lt)}var jt={post:null,error:null},ht=Object(z.a)((rt={},Object(L.a)(rt,dt,(function(n,e){var t=e.payload;return Object(A.a)({},n,{post:t})})),Object(L.a)(rt,mt,(function(n,e){var t=e.payload;return Object(A.a)({},n,{error:t})})),Object(L.a)(rt,"post/UNLOAD_POST",(function(){return jt})),rt),jt);function Et(){var n=Object(l.a)(["\n  font-size: 1.31235rem;\n  color: ",";\n"]);return Et=function(){return n},n}function yt(){var n=Object(l.a)(["\n  border-bottom: 1px solid ",";\n  padding-bottom: 3rem;\n  margin-bottom: 3rem;\n  h1 {\n    font-size: 3rem;\n    line-height: 1.5;\n    margin: 0;\n  }\n"]);return yt=function(){return n},n}function wt(){var n=Object(l.a)(["\n  margin-top: 4rem;\n"]);return wt=function(){return n},n}var xt=Object(s.b)(m)(wt()),kt=s.b.div(yt(),g.gray[2]),It=s.b.div(Et(),g.gray[8]),St=function(n){var e=n.post,t=n.error,r=n.loading,o=n.actionButtons;if(t)return t.response&&400===t.response.status?a.a.createElement(xt,null,"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8\uc785\ub2c8\ub2e4."):a.a.createElement(xt,null,"\uc624\ub958 \ubc1c\uc0dd!");if(r||!e)return null;var c=e.title,u=e.body,i=e.user,l=e.publishedDate,s=e.tags;return a.a.createElement(xt,null,a.a.createElement(ut.a,null,a.a.createElement("title",null,c," - REACTERS")),a.a.createElement(kt,null,a.a.createElement("h1",null,c),a.a.createElement(mn,{username:i.username,publishedDate:l,hasMarginTop:!0}),a.a.createElement(vn,{tags:s})),o,a.a.createElement(It,{dangerouslySetInnerHTML:{__html:u}}))};function Tt(){var n=Object(l.a)(["\n  height: 2rem;\n  & + & {\n    margin-left: 0.75rem;\n  }\n"]);return Tt=function(){return n},n}function Ct(){var n=Object(l.a)(["\n  width: 320px;\n  background: white;\n  padding: 1.5rem;\n  border-radius: 4px;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n  h2 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n  p {\n    margin-bottom: 3rem;\n  }\n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n  }\n"]);return Ct=function(){return n},n}function _t(){var n=Object(l.a)(["\n  position: fixed;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return _t=function(){return n},n}var Pt=s.b.div(_t()),Lt=s.b.div(Ct()),At=Object(s.b)(k)(Tt()),Dt=function(n){var e=n.visible,t=n.title,r=n.description,o=n.confirmText,c=void 0===o?"\ud655\uc778":o,u=n.cancelText,i=void 0===u?"\ucde8\uc18c":u,l=n.onConfirm,s=n.onCancel;return e?a.a.createElement(Pt,null,a.a.createElement(Lt,null,a.a.createElement("h2",null,t),a.a.createElement("p",null,r),a.a.createElement("div",{className:"buttons"},a.a.createElement(At,{onClick:s},i),a.a.createElement(At,{cyan:!0,onClick:l},c)))):null},Nt=function(n){var e=n.visible,t=n.onConfirm,r=n.onCancel;return a.a.createElement(Dt,{visible:e,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancel:r})};function Rt(){var n=Object(l.a)(["\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  color: ",";\n  font-weight: bold;\n  border: none;\n  outline: none;\n  font-size: 0.875rem;\n  cursor: pointer;\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  & + & {\n    margin-left: 0.25rem;\n  }\n"]);return Rt=function(){return n},n}function Gt(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 2rem;\n  margin-top: -1.5rem;\n"]);return Gt=function(){return n},n}var zt=s.b.div(Gt()),Ut=s.b.button(Rt(),g.gray[6],g.gray[1],g.cyan[7]),Ft=function(n){var e=n.onEdit,t=n.onRemove,o=Object(r.useState)(!1),c=Object(R.a)(o,2),u=c[0],i=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(zt,null,a.a.createElement(Ut,{onClick:e},"\uc218\uc815"),a.a.createElement(Ut,{onClick:function(){i(!0)}},"\uc0ad\uc81c")),a.a.createElement(Nt,{visible:u,onConfirm:function(){i(!1),t()},onCancel:function(){i(!1)}}))},Mt=(Object(u.e)((function(n){var e=n.match,t=n.history,o=e.params.postId,c=Object(i.b)(),u=Object(i.c)((function(n){var e=n.post,t=n.loading,r=n.user;return{post:e.post,error:e.error,loading:t["post/READ_POST"],user:r.user}})),l=u.post,s=u.error,b=u.loading,f=u.user;Object(r.useEffect)((function(){return c(pt(o)),function(){c(gt())}}),[c,o]);var d=function(){var n=Object(it.a)(N.a.mark((function n(){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e=o,M.delete("/api/posts/".concat(e));case 3:t.push("/"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}var e}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),m=(f&&f._id)===(l&&l.user._id);return a.a.createElement(St,{post:l,loading:b,error:s,actionButtons:m&&a.a.createElement(Ft,{onEdit:function(){c(Fe(l)),t.push("/write")},onRemove:d})})})),function(){});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Bt=t(21),Ht=t(61),Wt=t(63),Jt=N.a.mark(Zt);function Zt(){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(U.a)([se(),cn(),Je(),Ot(),Nn()]);case 2:case"end":return n.stop()}}),Jt)}var qt=Object(Bt.combineReducers)({auth:fe,loading:J,user:un,write:qe,post:ht,posts:Rn}),Qt=Object(Wt.a)(),$t=Object(Bt.createStore)(qt,Object(Ht.composeWithDevTools)(Object(Bt.applyMiddleware)(Qt)));Qt.run(Zt),function(){try{var n=localStorage.getItem("user");if(!n)return;$t.dispatch(en(n)),$t.dispatch(tn())}catch(e){console.log("localStorage is not working")}}(),c.a.render(a.a.createElement(i.a,{store:$t},a.a.createElement(p.a,null,a.a.createElement(ut.b,null,a.a.createElement(Mt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))},65:function(n,e,t){n.exports=t(100)},70:function(n,e,t){}},[[65,1,2]]]);
//# sourceMappingURL=main.2bce930f.chunk.js.map